<template name="detail">
  {{#with property}}
  <div class="detail-div">
    <h2 class="text-center">{{name}}</h2>

    <!-- Charactersitics -->
    <div class="detail-characteristics-owner-div">
      <div class="text-center text-uppercase">
        <h3>{{propertyType}}</h3>
      </div>
      <div class="detail-characteristics-div">
        <h4>Charactersitics</h4>
        <div>
          <span class="glyphicon glyphicon-euro"></span> {{price}} â‚¬{{#if isRental}}/month{{/if}}
        </div>
        <div>
          <span class="glyphicon glyphicon-home"></span> {{address}}, {{city}}, {{zipcode}}
        </div>
        <div>
          <span class="glyphicon glyphicon-globe"></span> {{area}} m<sup>2</sup>
        </div>
        <div>
          <span class="glyphicon glyphicon-eye-open"></span> {{views}} views
        </div>
      </div>
      {{#if userLogged}}
      <div class="detail-characteristics-div">
        <h4>Contact Info</h4>
        <div>
          <span class="glyphicon glyphicon-user"></span> {{owner.name}}
        </div>
        <div>
          <span class="glyphicon glyphicon-envelope"></span> {{owner.mail}}
        </div>
        <div>
          <span class="glyphicon glyphicon-phone"></span> {{owner.phone}}
        </div>
      </div>
      <div class="text-center">
        <button id="addRemoveFav" class="detail-button">
          <span class="glyphicon glyphicon-star {{#if isFav}}yellow{{/if}}">
          </span>{{#if isFav}} Remove Favorite{{else}} Add Favorite{{/if}}
        </button>
      </div>
    {{/if}}
    </div>
    <div class="detail-description-div">
      <!-- Description -->
      <h4>Description</h4>
      <div>
        <div>
          {{description}}
        </div>
      </div>
    </div>

    <div class="detail-map-div">
      <h4>Location</h4>
      <div>
        <div>
          <div class="map-container">
            {{> googleMap name="locationProperty" options=locationPropertyOptions}}
          </div>
        </div>
      </div>
    </div>

    <div class="detail-carrousel-div">
      <h4>Gallery</h4>
      <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->

      <ol class="carousel-indicators">
          {{#each images}}
        <li data-target="#myCarousel" data-slide-to="{{@index}}" class="{{#if isFirst}}active{{/if}}"></li>
          {{/each}}
      </ol>

      <!-- Wrapper for slides -->
      <div class="carousel-inner" role="listbox">
        {{#each images}}
        <div class="item {{#if isFirst}}active{{/if}}" id="item{{@index}}">
          <img src="{{.}}" />
        </div>
        {{/each}}
      </div>

      <!-- Left and right controls -->
      <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <div class="detail-comments-div">
    <h4>Comments</h4>
    <div>
      {{#each comments}}
        <div class="detail-comment-user-div">
          <div class="detail-comment-detail">
            <b>{{checkUser user}}</b>
          </div>
          <div class="detail-comment-detail">
            {{prettifyDate createdAt}}
          </div>
          <div class="detail-comment-text">
              <p>{{comment}}</p>
          </div>
        </div>
      {{/each}}
      {{#if userLogged}}
      <div class="detail-comments-form">
        <div>
          <textarea id="comment" placeholder="Add a comment..." class="detail-textarea"></textarea>
        </div>
        <!-- <div class="col-xs-12 form-group">
          <input class="form-control" type="file" multiple />
        </div> -->
        <div>
          <button id="sendComment" class="detail-button-comment">Send</button>
        </div>
    </div>
      {{/if}}
    </div>
    </div>
    </div>
  {{/with}}

</template>
